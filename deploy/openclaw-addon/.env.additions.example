# Add these variables to the official OpenClaw `.env`
# (or source them before `docker compose up`)

# Opencode server auth (Basic Auth)
OPENCODE_AUTH_USERNAME=opencode
OPENCODE_AUTH_PASSWORD=change-me
# Optional aliases (kept for compatibility with newer opencode server env names)
# OPENCODE_SERVER_USERNAME=opencode
# OPENCODE_SERVER_PASSWORD=change-me
# Optional: reuse host opencode install/plugins inside container.
OPENCODE_INSTALL_DIR=./opencode-home
# Default: build a local Docker image for opencode during compose.
# No host opencode install is required in this default mode.
OPENCODE_IMAGE=openclaw-opencode-local:latest
OPENCODE_PULL_POLICY=never
OPENCODE_BUILD_CONTEXT=./docker/opencode-prebuilt
OPENCODE_BUILD_DOCKERFILE=Dockerfile
OPENCODE_NPM_VERSION=1.1.51

# OpenClaw -> bridge auth (used in OpenClaw Custom Provider apiKey field)
OPENCODE_BRIDGE_API_KEY=change-me
OPENCODE_BRIDGE_PORT=8787
OPENCLAW_PORT_BIND_HOST=127.0.0.1
OPENCODE_BRIDGE_CONTEXT=./opencode-bridge
# This repo publishes one package with multiple tags:
# - :latest is the all-in-one image
# - :bridge-only is the sidecar image for the three-container stack
OPENCODE_BRIDGE_IMAGE=ghcr.io/alphabaijinde/openclaw-opencode-bridge:bridge-only
OPENCODE_BRIDGE_PULL_POLICY=missing

# Bridge default exposed model name in OpenClaw
OPENCODE_OPENAI_MODEL_ID=opencode-local

# Which real model/provider opencode should call by default.
# You can change these after `docker compose exec opencode opencode models`.
OPENCODE_PROVIDER_ID=opencode
OPENCODE_MODEL_ID=minimax-m2.5-free

# Optional: opencode session working directory inside opencode container
OPENCODE_DIRECTORY=/workspace

# Optional: map multiple OpenClaw model IDs -> opencode provider/model
# OPENCODE_MODEL_MAP_JSON={"opencode-local":{"providerID":"openai","modelID":"gpt-4.1-mini"}}

# If you want to use opencode "free AI", do NOT fill upstream API keys here.
# Instead run `docker compose exec opencode opencode auth login` after startup.
# Upstream model API keys for opencode (optional)
# OPENAI_API_KEY=
# ANTHROPIC_API_KEY=
# GOOGLE_API_KEY=

# Optional: proxy passed into OpenClaw/opencode/bridge containers.
# Example for Clash Verge on host: http://host.docker.internal:7897
HOST_HTTP_PROXY=
HOST_HTTPS_PROXY=
HOST_NO_PROXY=localhost,127.0.0.1,opencode,opencode-bridge,host.docker.internal

# Feishu plugin env (for @openclaw/feishu)
FEISHU_APP_ID=cli_xxx
FEISHU_APP_SECRET=xxx
FEISHU_VERIFICATION_TOKEN=xxx
FEISHU_ENCRYPT_KEY=
